def findCommonLetter(a,b):
    aSet = set()
    for letter in a:
        aSet.add(letter)
    for letter in b:
        if letter in aSet:
            return letter

def findCommonLetters(a,b):
    aSet = set()
    final = ""
    for letter in a:
        aSet.add(letter)
    for letter in b:
        if letter in aSet:
            final += letter
    return final


def calculatePriority():
    total = 0
    with open('input.txt') as f:
            for line in f:
                line = line.strip()
                middle = len(line)//2
                left = line[:middle]
                right = line[middle:]
                letter = findCommonLetter(left,right)
                # print(letter,ord(letter))
                if letter.islower():
                    print("lower",letter,ord(letter)-96)
                    total += ord(letter) - 96
                else:
                    print("upper",letter,ord(letter)-38)
                    total += ord(letter) - 38
    return total

def calculatePriority2():
    total = 0
    common = None
    with open('input.txt') as f:
        text = [line.rstrip() for line in f]
        for i in range(0,len(text),3):
            group = text[i:i+3]
            common = findCommonLetter(findCommonLetters(group[0],group[1]),group[2])
            print(common,group[0],group[1],group[2])
            if common.islower():
                total += ord(common) - 96
            else:
                total += ord(common) - 38
    print(common)
    
    return total

if __name__ == "__main__":
    print(calculatePriority2())